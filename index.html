<!DOCTYPE html>
<html>

<head>
    <title>UWC Myanmar - Map Leaflet</title>

    <!-- Copy Javascript and CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css"
        integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
        crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"
        integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og=="
        crossorigin=""></script>


</head>

<body style="padding:0px;margin:0px;">

    <!-- Copy from here onwards -->
    <center>
        <div id="mapid" style="height:100vh;width:100vw;padding:0px;margin:0px;"></div>
    </center>

    <script>
        var mymap = L.map('mapid', {
            center: [30, 0],
            zoom: 2,
            scrollWheelZoom: false
        });
        L.tileLayer(
            'https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
                maxZoom: 18,
                attribution: '',
                id: 'mapbox.streets'
            }).addTo(mymap);

        var text = '{"uwc":[' +
            '{"name":"Pearson College UWC","location":"Victoria, Canada","latitude":"48.3479497","longitude":"-123.5657213","image_url":"https://www.uwc.org/_site/data/images/news/17/home-Image%201.jpg" },' +

            '{"name":"asdf","location":"sadf","latitude":"234","longitude":"234","image_url":"https://www.uwc.org/_site/data/images/news/17/home-Image%201.jpg" }]}';

        obj = JSON.parse(text);

        console.log();

        L.marker([obj.uwc[0].latitude, obj.uwc[0].longitude]).addTo(mymap)
            .bindPopup(
                "<img src='" + obj.uwc[0].image_url + "' width='200px'/><h4>" + obj.uwc[0].name + "</h4><p>" + obj.uwc[
                    0].location + "<p>"
            ).on('mouseover', function (e) {
            this.openPopup();
        }).on('mouseout', function (e) {
            this.closePopup();
        });

    </script>

</body>

</html>